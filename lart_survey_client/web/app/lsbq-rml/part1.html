{% extends 'base.html' %}
{% set eel_forms = true %}
{% block title %}LART Survey Client - LSBQ-RML - Language and Social Background{% endblock %}
{% block headline %}Language and Social Background Questionnaire (RML){% endblock %}
{% block head_scripts %}
<script type="text/javascript">
    lsbqRmlInstanceId = parseInt(lart.forms.searchParams.get('instance'));
</script>
{% endblock %}
{% block head_styles %}{% endblock %}
{% block drawer_info %}{% endblock %}
{% block drawer_nav_options %}
    <li class="nav-item">
        <a class="nav-link" onClick="discard_attempt()"><i class="bi bi-x-circle"></i>  Discard attempt</a>
    </li>
    <li><hr class="nav-divider"></li>
{% endblock %}
{% block content %}
    <article class="container-fluid p-2">
        <div class="progress">
            <div class="progress-bar bg-info" role="progressbar" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100" style="width:0%"></div>
        </div>
        <div class="row m-2 text-center">
            <h2>Language and Social Background</h2>
        </div>
        <form id="surveyLSBForm" class="m-2 needs-validation" autocomplete="off">

            <!-- 1. Sex -->
            <fieldset class="row mb-3" id="sex" required>
                <legend class="col-form-label col-auto pt-0">Sex:</legend>
                <div class="col-sm">
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="sex" id="sexFemale" value="F" />
                        <label class="form-check-label" for="sexFemale">Female</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="sex" id="sexMale" value="M" />
                        <label class="form-check-label" for="sexMale">Male</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="sex" id="sexOther" value="O" />
                        <label class="form-check-label" for="sexOther">Other</label>
                        <div id="sexOtherSpecifyCollapse" class="d-inline collapse">
                            <input id="sexOtherSpecify" class="form-control form-control-sm d-inline w-25" style="min-width:10rem" type="text" placeholder="Specify..." aria-label="Specify sex, if other." />
                        </div>
                        <script type="text/javascript">
                            lart.forms.conditionalRequire('sex', 'sexOtherSpecify', 'O');
                            lart.forms.conditionalDisplay('sex', 'sexOtherSpecify', 'O');
                        </script>
                    </div>
                </div>
            </fieldset>

            <!-- 2. Occupation -->
            <div class="row mb-3">
                <label for="occupation" class="col-form-label col-auto">Occupation:</label>
                <div class="col-sm">
                  <input type="text" class="form-control" id="occupation" required />
                </div>
            </div>

            <!-- 3. Handedness -->
            <fieldset class="row mb-3" required>
                <legend class="col-form-label col-auto pt-0">Handedness:</legend>
                <div class="col-sm-10">
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="handedness" id="handednessLeft" value="L" />
                        <label class="form-check-label" for="handednessLeft">Left</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="handedness" id="handednessRight" value="R" />
                        <label class="form-check-label" for="handednessRight">Right</label>
                    </div>
                </div>
            </fieldset>

            <!-- 4. Date of birth -->
            <div class="row mb-3">
                <label for="dateOfBirth" class="col-form-label col-sm-auto">Date of birth:</label>
                <div class="col-sm-auto">
                  <input type="date" class="form-control" id="dateOfBirth" min="1922-01-01" required />
                  <script type="text/javascript">
                    booteel.DOM.setAttribute('dateOfBirth', 'max', booteel.today.iso.YEAR_MONTH_DAY);
                </script>
                </div>
            </div>

            <!-- 5. Hearing problems -->
            <fieldset class="row mb-3" required>
                <legend class="col-form-label col-sm-auto pt-0">Do you have hearing problems?</legend>
                <div class="col-sm-auto">
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="hearingProblemYN" id="hearingProblemYes" value="yes" />
                        <label class="form-check-label" for="hearingProblemYes">Yes</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="hearingProblemYN" id="hearingProblemNo" value="no" />
                        <label class="form-check-label" for="hearingProblemNo">No</label>
                    </div>
                </div>
            </fieldset>
            <fieldset class="row mb-3 ms-5" id="hearingAid">
                <legend class="col-form-label col-sm-auto pt-0">If <strong>yes</strong>, do you wear a hearing aid?</legend>
                <div class="col-sm-auto">
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="hearingYN" id="hearingAidYes" value="yes" />
                        <label class="form-check-label" for="hearingYes">Yes</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="hearingAidYN" id="hearingAidNo" value="no" />
                        <label class="form-check-label" for="hearingAidNo">No</label>
                    </div>
                </div>
            </fieldset>
            <script type="text/javascript">
                lart.forms.conditionalRequire('hearingProblemYN', 'hearingAid', 'yes');
                lart.forms.conditionalDisplay('hearingProblemYN', 'hearingAid', 'yes');
            </script>

            <!-- 6. Vision problems -->
            <fieldset class="row mb-3" required>
                <legend class="col-form-label col-sm-auto pt-0">Do you have vision problems?</legend>
                <div class="col-sm-auto">
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="visionProblemYN" id="visionProblemYes" value="yes" />
                        <label class="form-check-label" for="visionProblemYes">Yes</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="visionProblemYN" id="visionProblemNo" value="no" />
                        <label class="form-check-label" for="visionProblemNo">No</label>
                    </div>
                </div>
            </fieldset>
            <fieldset class="row mb-3 ms-5" id="visionGlasses">
                <legend class="col-form-label col-sm-auto pt-0">If <strong>yes</strong>, do you wear glasses/contacts?</legend>
                <div class="col-sm-auto">
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="visionGlassesYN" id="visionGlassesYes" value="yes" />
                        <label class="form-check-label" for="visionGlassesYes">Yes</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="visionGlassesYN" id="visionGlassesNo" value="no" />
                        <label class="form-check-label" for="visionGlassesNo">No</label>
                    </div>
                </div>
            </fieldset>
            <script type="text/javascript">
                lart.forms.conditionalRequire('visionProblemYN', 'visionGlasses', 'yes');
                lart.forms.conditionalDisplay('visionProblemYN', 'visionGlasses', 'yes');
            </script>
            <fieldset class="row mb-3 ms-5" id="visionCorrected">
                <legend class="col-form-label col-sm-auto pt-0">Do they correct your vision to normal?</legend>
                <div class="col-sm-auto">
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="visionCorrectedYN" id="visionCorrectedYes" value="yes" />
                        <label class="form-check-label" for="visionGlassesYes">Yes</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="visionCorrectedYN" id="visionCorrectedNo" value="no" />
                        <label class="form-check-label" for="visionCorrectedNo">No</label>
                    </div>
                </div>
            </fieldset>
            <script type="text/javascript">
                lart.forms.conditionalRequire('visionGlassesYN', 'visionCorrected', 'yes');
                lart.forms.conditionalDisplay('visionGlassesYN', 'visionCorrected', 'yes');
            </script>

            <!-- 7. Place of birth -->
            <div class="row mb-3">
                <label for="placeOfBirth" class="col-form-label col-auto">Place of birth:</label>
                <div class="col-sm">
                  <input type="text" class="form-control" id="placeOfBirth" required />
                  <p class="help-block p-2 text-muted"><i class="bi-info-circle text-info"></i> Approximate area is sufficient.</p>
                </div>
            </div>

            <!-- 8. Where else have you lived -->
            <div class="row mb-1">
                <p class="col-form-label col-auto">Where else have you lived for any significant period of time (&gt; 6 months)?</p>
            </div>
            <div id="otherPlacesRepeat">
                <div class="row mb-1 ms-5" id="otherPlaces-0">
                    <div class="col form-floating">
                        <input type="text" class="form-control" id="otherPlacesName-0" />
                        <label for="otherPlacesName-0">Place name</label>
                    </div>
                    <div class="col form-floating">
                        <input type="month" class="form-control" id="otherPlacesFrom-0" pattern="[0-9]{1,4}-(0?[1-9]|1[0-2])" />
                        <label for="otherPlacesFrom-0">From</label>
                    </div>
                    <div class="col form-floating">
                        <input type="month" class="form-control" id="otherPlacesTo-0" pattern="[0-9]{1,4}-(0?[1-9]|1[0-2])" />
                        <label for="otherPlacesTo-0">Until</label>
                    </div>
                </div>
            </div>
            <div class="row mt-1 mb-3 ms-1">
                <div class="col">
                    <p class="help-block p-2 text-muted ms-5"><i class="bi-info-circle text-info"></i> Approximate area is sufficient.</p>
                </div>
                <div class="col text-end">
                    <a class="btn btn-outline-secondary shadow-sm col-auto" onclick="lart.forms.repeatBlock('otherPlacesRepeat', /(otherPlaces[A-Z]?[a-z]*)-(0)/gm)"><i class="bi-plus-circle-dotted"></i> Add line</a>
                </div>
            </div>

            <!-- 9. Level of education -->
            <fieldset required>
                <div class="row">
                    <legend class="col-form-label col-auto pt-0">Please indicate the highest level of education you have achieved:</legend>
                </div>
                <div class="row-mb-3">
                    <div class="col ms-5">
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="levelOfEducation" id="levelOfEducation1" value="1" />
                            <label class="form-check-label" for="levelOfEducation1">EQF Level 1</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="levelOfEducation" id="levelOfEducation2" value="2" />
                            <label class="form-check-label" for="levelOfEducation2">EQF Level 2-3</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="levelOfEducation" id="levelOfEducation2" value="3" />
                            <label class="form-check-label" for="levelOfEducation2">EQF Level 4</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="levelOfEducation" id="levelOfEducation2" value="4" />
                            <label class="form-check-label" for="levelOfEducation2">EQF Level 5-6</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="levelOfEducation" id="levelOfEducation2" value="5" />
                            <label class="form-check-label" for="levelOfEducation2">EQF Level 7-8</label>
                        </div>
                    </div> 
                </div>
            </fieldset>

            <!-- Form submission -->
            <div class="row text-end p-3">
                <div clas="col">
                    <button type="submit" class="btn btn-primary btn-lg btn-action shadow">Next</button>
                </div>
            </div>

        </form>
    </article>
{% endblock %}
{% block tail_scripts %}{% endblock %}